(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5405],{75557:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(17440)}])},96301:function(t,e,n){"use strict";let a=n(37917),s=n(45990);t.exports={contractAbi:s,contractAddresses:a}},17440:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return m}});var a=n(85893),s=n(9008),i=n.n(s),r=n(39872);let u=()=>(0,a.jsxs)("div",{className:"flex flex-row justify-between border-b-2 px-4 py-8 border-b-gray-300",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold",children:"Decentralized Lottery"}),(0,a.jsx)(r.e,{moralisAuth:!1})]});var o=n(67294),p=n(83078),l=n(61510),c=n(45821),y=n(96301),f=n(62542);let d=()=>{let[t,e]=(0,o.useState)("0"),[n,s]=(0,o.useState)("0"),[i,r]=(0,o.useState)("0"),[u,d]=(0,o.useState)("0x00"),{chainId:m,Moralis:b}=(0,p.Nr)(),{web3:g}=b,x=parseInt(m).toString(),h=y.contractAddresses[x]?y.contractAddresses[x][0]:null,w=(0,l.Q)();(0,o.useEffect)(()=>{console.log("\x1b[31m%s\x1b[0m","Check this message on app's logs if the counts of this log keep increasing then, Your Application is in Trouble, Right now it seems that your Dapp is in an infinite loop... ")});let{runContractFunction:v,isFetching:N,isLoading:_}=(0,p.JX)({abi:y.contractAbi,contractAddress:h,params:"",functionName:"enterRaffle",msgValue:t}),{runContractFunction:R}=(0,p.JX)({abi:y.contractAbi,contractAddress:h,functionName:"getEntranceFee",params:""}),{runContractFunction:j}=(0,p.JX)({abi:y.contractAbi,contractAddress:h,params:"",functionName:"getPlayersLength"}),{runContractFunction:E}=(0,p.JX)({abi:y.contractAbi,contractAddress:h,functionName:"getRecentWinner",params:""}),C=async()=>{if(g){let t=await g.getBalance(h);s(t.toString())}},k=async()=>{let t=await R();t&&e(t.toString()),await C();let n=await j();n&&r(n.toString());let a=await E();a&&d(a.toString())};(0,o.useEffect)(()=>{k()},[R,j,E]);let A=()=>{w({position:"topR",type:"success",message:"Transaction Confirmed!",title:"Raffle Enter",icon:(0,a.jsx)(c.Uo,{})})},F=async t=>{await t.wait(1),await k(),A()},S=()=>{w({position:"topR",type:"error",title:"enterRaffle Failed",message:"Transaction Failed, Open Logs!",icon:(0,a.jsx)(c.Uo,{color:"red"}),iconColor:"red"})},M=async()=>{await v({onSuccess:F,onError:S})};return(0,a.jsxs)("div",{className:"px-4 py-6 m-4",children:[(0,a.jsxs)("h1",{className:"text-xl text-gray-400 py-2",children:["Entrance Fee:"," ",(0,a.jsxs)("span",{className:"text-xl text-blue-700",children:[f.bM(t,"ether")," ETH"]})]}),(0,a.jsxs)("h1",{className:"text-xl text-gray-400 py-2",children:["Current Lottery Value:"," ",(0,a.jsxs)("span",{className:"text-xl text-blue-700",children:[f.bM(n,"ether")," ETH"]})]}),(0,a.jsxs)("h1",{className:"text-xl text-gray-400 py-2",children:["Players(Stakers) Involved into Lottery: ",i]}),(0,a.jsx)("button",{className:"text-white font-bold py-4 px-8 bg-violet-700 rounded-md hover:bg-violet-900",onClick:M,disabled:N||_,children:_||N?(0,a.jsx)("div",{className:"animate-spin border border-white w-10 h-10 border-t-2 rounded-full"}):"Enter Raffle"}),(0,a.jsxs)("h1",{className:"text-xl text-green-400 py-2 font-bold",children:["Recent Winner: ",u]})]})};function m(){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(i(),{children:[(0,a.jsx)("title",{children:"Raffle DAPP"}),(0,a.jsx)("meta",{name:"description",content:"Raffle Hardhat Decentralized app"}),(0,a.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,a.jsx)("link",{rel:"icon",href:"/favicon.png"})]}),(0,a.jsx)(u,{}),(0,a.jsx)(d,{})]})}},45990:function(t){"use strict";t.exports=JSON.parse('[{"type":"constructor","payable":false,"inputs":[{"type":"address","name":"_vrfCoordinatorV2Address"},{"type":"uint256","name":"_entranceFee"},{"type":"uint256","name":"_interval"},{"type":"bytes32","name":"_gasLane"},{"type":"uint64","name":"_subscriptionId"},{"type":"uint32","name":"_callbackGasLimit"}]},{"type":"error","name":"OnlyCoordinatorCanFulfill","inputs":[{"type":"address","name":"have"},{"type":"address","name":"want"}]},{"type":"error","name":"OnlySimulatedBackend","inputs":[]},{"type":"error","name":"Raffle__PaymentToWinnerFailed","inputs":[]},{"type":"error","name":"Raffle__RaffleNotOpen","inputs":[]},{"type":"error","name":"Raffle__UpkeepNotNeeded","inputs":[{"type":"uint256","name":"currentRaffleState"},{"type":"uint256","name":"currentPlayersLength"},{"type":"uint256","name":"currentBalance"}]},{"type":"error","name":"Raffle__notPaidEnoughToEnter","inputs":[]},{"type":"event","anonymous":false,"name":"RaffleEnter","inputs":[{"type":"address","name":"player","indexed":true}]},{"type":"event","anonymous":false,"name":"RandomWinnerRequest","inputs":[{"type":"uint256","name":"requestId","indexed":true}]},{"type":"event","anonymous":false,"name":"WinnerPicked","inputs":[{"type":"address","name":"recentWinner","indexed":true}]},{"type":"function","name":"checkUpkeep","constant":false,"payable":false,"gas":29000000,"inputs":[{"type":"bytes"}],"outputs":[{"type":"bool","name":"upkeepNeeded"},{"type":"bytes"}]},{"type":"function","name":"enterRaffle","constant":false,"stateMutability":"payable","payable":true,"gas":29000000,"inputs":[],"outputs":[]},{"type":"function","name":"getCallbackGasLimit","constant":true,"stateMutability":"view","payable":false,"gas":29000000,"inputs":[],"outputs":[{"type":"uint32"}]},{"type":"function","name":"getEntranceFee","constant":true,"stateMutability":"view","payable":false,"gas":29000000,"inputs":[],"outputs":[{"type":"uint256"}]},{"type":"function","name":"getGasLane","constant":true,"stateMutability":"view","payable":false,"gas":29000000,"inputs":[],"outputs":[{"type":"bytes32"}]},{"type":"function","name":"getInterval","constant":true,"stateMutability":"view","payable":false,"gas":29000000,"inputs":[],"outputs":[{"type":"uint256"}]},{"type":"function","name":"getLastTimestamp","constant":true,"stateMutability":"view","payable":false,"gas":29000000,"inputs":[],"outputs":[{"type":"uint256"}]},{"type":"function","name":"getNumWords","constant":true,"stateMutability":"pure","payable":false,"gas":29000000,"inputs":[],"outputs":[{"type":"uint32"}]},{"type":"function","name":"getPlayer","constant":true,"stateMutability":"view","payable":false,"gas":29000000,"inputs":[{"type":"uint256","name":"_playerIdx"}],"outputs":[{"type":"address"}]},{"type":"function","name":"getPlayersLength","constant":true,"stateMutability":"view","payable":false,"gas":29000000,"inputs":[],"outputs":[{"type":"uint256"}]},{"type":"function","name":"getRaffleState","constant":true,"stateMutability":"view","payable":false,"gas":29000000,"inputs":[],"outputs":[{"type":"uint256"}]},{"type":"function","name":"getRecentWinner","constant":true,"stateMutability":"view","payable":false,"gas":29000000,"inputs":[],"outputs":[{"type":"address"}]},{"type":"function","name":"getRequestConfirmations","constant":true,"stateMutability":"pure","payable":false,"gas":29000000,"inputs":[],"outputs":[{"type":"uint16"}]},{"type":"function","name":"getSubscriptionId","constant":true,"stateMutability":"view","payable":false,"gas":29000000,"inputs":[],"outputs":[{"type":"uint64"}]},{"type":"function","name":"getVRFCoordinatorAddress","constant":true,"stateMutability":"view","payable":false,"gas":29000000,"inputs":[],"outputs":[{"type":"address"}]},{"type":"function","name":"performUpkeep","constant":false,"payable":false,"gas":29000000,"inputs":[{"type":"bytes"}],"outputs":[]},{"type":"function","name":"rawFulfillRandomWords","constant":false,"payable":false,"gas":29000000,"inputs":[{"type":"uint256","name":"requestId"},{"type":"uint256[]","name":"randomWords"}],"outputs":[]}]')},37917:function(t){"use strict";t.exports=JSON.parse('{"31337":["0xCf7Ed3AccA5a467e9e704C703E8D87F634fB0Fc9"]}')}},function(t){t.O(0,[7257,4956,3014,9774,2888,179],function(){return t(t.s=75557)}),_N_E=t.O()}]);